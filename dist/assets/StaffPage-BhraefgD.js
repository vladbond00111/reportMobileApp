import{e as v}from"./useDatabase-o04XfflN.js";import{_ as $,d as S,u as g,r as n,o as s,c as u,w as e,a as c,b as l,t as i,e as m,I as w,f as k,g as F,h as L,j as V,k as I,F as E}from"./index-CEtYVSE0.js";const N=S({props:{staff:{type:Object,default:()=>({})}},setup(t){const a=g();return{toStaffCard:d=>{a.push("/tabs/staff/".concat(d))}}}});function B(t,a,b,d,h,y){const r=n("ion-card-title"),f=n("ion-card-subtitle"),o=n("ion-label"),p=n("ion-card-header"),C=n("ion-card");return s(),u(C,{class:"card",onClick:a[0]||(a[0]=_=>t.toStaffCard(t.staff.id))},{default:e(()=>[c(p,null,{default:e(()=>[c(r,null,{default:e(()=>[l(i(t.staff.nickname),1)]),_:1}),c(f,null,{default:e(()=>[l(i(t.staff.name),1)]),_:1}),c(f,{class:"unit-titles"},{default:e(()=>[t.staff.unit?(s(),u(o,{key:0},{default:e(()=>[l(i(t.staff.unit)+", ",1)]),_:1})):m("",!0),t.staff.unit2?(s(),u(o,{key:1},{default:e(()=>[l(i(t.staff.unit2)+", ",1)]),_:1})):m("",!0),t.staff.unit3?(s(),u(o,{key:2},{default:e(()=>[l(i(t.staff.unit3)+", ",1)]),_:1})):m("",!0),t.staff.unit4?(s(),u(o,{key:3},{default:e(()=>[l(i(t.staff.unit4)+", ",1)]),_:1})):m("",!0),t.staff.unit5?(s(),u(o,{key:4},{default:e(()=>[l(i(t.staff.unit5),1)]),_:1})):m("",!0)]),_:1})]),_:1})]),_:1})}const D=$(N,[["render",B],["__scopeId","data-v-448bb366"]]),Q=S({components:{StaffCard:D,IonSearchbar:w},setup(){const t=k([]),a=k(""),b=async()=>{t.value=await v()},d=g(),h=r=>{d.push("/tabs/staff/".concat(r))},y=F(()=>{if(!a.value)return t.value;const r=a.value.toLowerCase().trim();return t.value.filter(f=>{const o=f.name.toLowerCase().trim(),p=f.nickname.toLowerCase().trim();return o.startsWith(r)||p.startsWith(r)})});return L(async()=>{await b()}),{staffList:t,searchQuery:a,filteredStaff:y,toStaffCard:h}}});function R(t,a,b,d,h,y){const r=n("ion-searchbar"),f=n("staff-card"),o=n("ion-list"),p=n("ion-content"),C=n("ion-page");return s(),u(C,{style:{"margin-top":"56px"}},{default:e(()=>[c(p,{fullscreen:!0},{default:e(()=>[c(r,{class:"search-bar",modelValue:t.searchQuery,"onUpdate:modelValue":a[0]||(a[0]=_=>t.searchQuery=_),placeholder:"Пошук за ПІБ або позивним",animated:!0,debounce:500},null,8,["modelValue"]),c(o,null,{default:e(()=>[(s(!0),V(E,null,I(t.filteredStaff,_=>(s(),u(f,{staff:_,key:_.id},null,8,["staff"]))),128))]),_:1})]),_:1})]),_:1})}const T=$(Q,[["render",R],["__scopeId","data-v-21489e35"]]);export{T as default};
